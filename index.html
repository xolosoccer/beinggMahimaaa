<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JobBroom - Swipe Opportunities</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            height: 100vh;
            overflow: hidden;
            position: fixed;
            width: 100%;
        }

        /* Ad Banner Section - 20% */
        .ad-section {
            height: 20vh;
            width: 100%;
            position: fixed;
            top: 0;
            z-index: 100;
            background: white;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            overflow: hidden;
        }

        .ad-banner {
            width: 100%;
            height: 100%;
            display: block;
            background: #ffffff;
            overflow: hidden;
            margin: 0;
            padding: 0;
            line-height: 0;
        }

        .ad-banner img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            object-position: center;
            display: block;
            margin: 0;
            padding: 0;
            border: none;
        }

        .ad-banner a {
            display: block;
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
            line-height: 0;
        }

        .ad-banner.placeholder {
            background: linear-gradient(135deg, #f5f5f5 0%, #e8e8e8 100%);
            border: 3px dashed #ccc;
            color: #999;
            font-weight: 600;
            text-align: center;
            font-size: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .ad-banner.placeholder > div {
            padding: 20px;
        }

        /* Optimized for 320x100 ads */
        @media (max-width: 360px) {
            .ad-banner {
                padding: 0;
            }
        }

        @media (min-width: 768px) {
            .ad-banner {
                padding: 0;
            }
        }

        /* Google Ads Container */
        .google-ad-container {
            width: 100%;
            height: 100%;
            display: block;
            background: white;
            overflow: hidden;
            margin: 0;
            padding: 0;
        }

        .google-ad-container > div,
        .google-ad-container ins {
            max-width: 100%;
            max-height: 100%;
            display: block;
        }

        /* Swipe Section - 80% */
        .swipe-section {
            height: 80vh;
            width: 100%;
            position: fixed;
            bottom: 0;
            padding: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Card Stack Container */
        .card-stack {
            position: relative;
            width: 100%;
            max-width: 500px;
            height: 100%;
        }

        /* Individual Card */
        .card {
            position: absolute;
            width: 100%;
            height: 100%;
            background: white;
            border-radius: 25px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            padding: 40px 30px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            cursor: grab;
            user-select: none;
            transform-origin: center;
        }

        .card:active {
            cursor: grabbing;
        }

        /* Card stacking effect */
        .card:nth-child(1) { z-index: 5; transform: scale(1) translateY(0); }
        .card:nth-child(2) { z-index: 4; transform: scale(0.95) translateY(10px); opacity: 0.8; }
        .card:nth-child(3) { z-index: 3; transform: scale(0.9) translateY(20px); opacity: 0.6; }
        .card:nth-child(4) { z-index: 2; transform: scale(0.85) translateY(30px); opacity: 0.4; }
        .card:nth-child(5) { z-index: 1; transform: scale(0.8) translateY(40px); opacity: 0.2; }

        .card.swiped-left {
            transform: translateX(-150%) rotate(-30deg) !important;
            opacity: 0 !important;
        }

        .card.swiped-right {
            transform: translateX(150%) rotate(30deg) !important;
            opacity: 0 !important;
        }

        /* Card 1 - Company Info */
        .card-1 {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .company-logo {
            width: 100px;
            height: 100px;
            background: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 40px;
            margin-bottom: 20px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        .company-name {
            font-size: 32px;
            font-weight: 800;
            margin-bottom: 15px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }

        .job-title {
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 20px;
            opacity: 0.95;
        }

        .location {
            font-size: 18px;
            padding: 12px 25px;
            background: rgba(255,255,255,0.2);
            border-radius: 30px;
            backdrop-filter: blur(10px);
        }

        /* Card 2 - Stipend */
        .card-2 {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
        }

        .stipend-icon {
            font-size: 80px;
            margin-bottom: 20px;
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .stipend-amount {
            font-size: 48px;
            font-weight: 900;
            margin-bottom: 15px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }

        .stipend-details {
            font-size: 18px;
            line-height: 1.8;
            opacity: 0.95;
        }

        /* Card 3 - Eligibility */
        .card-3 {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
        }

        .eligibility-icon {
            font-size: 70px;
            margin-bottom: 25px;
        }

        .eligibility-title {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 25px;
        }

        .eligibility-list {
            list-style: none;
            text-align: left;
            font-size: 16px;
            line-height: 2.2;
        }

        .eligibility-list li {
            position: relative;
            padding-left: 35px;
            margin-bottom: 12px;
        }

        .eligibility-list li:before {
            content: "✓";
            position: absolute;
            left: 0;
            font-size: 22px;
            font-weight: bold;
        }

        /* Card 4 - Interview Questions */
        .card-4 {
            background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
            color: #333;
        }

        .interview-icon {
            font-size: 70px;
            margin-bottom: 20px;
        }

        .interview-title {
            font-size: 26px;
            font-weight: 700;
            margin-bottom: 25px;
            color: #333;
        }

        .question-box {
            background: rgba(255,255,255,0.9);
            padding: 15px 20px;
            border-radius: 15px;
            margin-bottom: 15px;
            font-size: 15px;
            font-weight: 600;
            color: #333;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            text-align: left;
        }

        /* Card 5 - Apply */
        .card-5 {
            background: linear-gradient(135deg, #30cfd0 0%, #330867 100%);
            color: white;
        }

        .apply-icon {
            font-size: 80px;
            margin-bottom: 20px;
            animation: bounce 2s ease-in-out infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }

        .last-date {
            font-size: 20px;
            margin-bottom: 10px;
            opacity: 0.9;
        }

        .date-value {
            font-size: 32px;
            font-weight: 800;
            margin-bottom: 30px;
        }

        .apply-btn {
            background: white;
            color: #330867;
            border: none;
            padding: 18px 50px;
            font-size: 20px;
            font-weight: 700;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 5px 20px rgba(0,0,0,0.3);
            transition: all 0.3s;
            text-decoration: none;
            display: inline-block;
            margin-bottom: 25px;
        }

        .apply-btn:active {
            transform: scale(0.95);
        }

        .thankyou-text {
            font-size: 18px;
            font-style: italic;
            opacity: 0.95;
            margin-top: 20px;
        }

        /* Swipe Instruction Text */
        .swipe-instruction {
            position: absolute;
            bottom: 25px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 15px;
            font-weight: 600;
            opacity: 0.9;
            display: flex;
            align-items: center;
            gap: 8px;
            animation: slideUpDown 2s ease-in-out infinite;
            padding: 10px 20px;
            background: rgba(255,255,255,0.2);
            border-radius: 25px;
            backdrop-filter: blur(10px);
        }

        @keyframes slideUpDown {
            0%, 100% { transform: translateX(-50%) translateY(0); }
            50% { transform: translateX(-50%) translateY(-5px); }
        }

        .swipe-instruction i {
            font-size: 18px;
        }

        /* Swipe Indicators */
        .swipe-indicator {
            position: absolute;
            top: 50%;
            font-size: 100px;
            opacity: 0;
            transition: opacity 0.3s;
            pointer-events: none;
            z-index: 10;
        }

        .swipe-indicator.left {
            left: 20px;
            color: #ff4757;
            transform: translateY(-50%) rotate(-30deg);
        }

        .swipe-indicator.right {
            right: 20px;
            color: #2ed573;
            transform: translateY(-50%) rotate(30deg);
        }

        .card.dragging-left .swipe-indicator.left,
        .card.dragging-right .swipe-indicator.right {
            opacity: 0.7;
        }

        /* Progress Indicator */
        .progress-dots {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 10px;
            z-index: 200;
        }

        .dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(255,255,255,0.4);
            transition: all 0.3s;
        }

        .dot.active {
            background: white;
            width: 30px;
            border-radius: 6px;
        }

        /* Audio Controls */
        .audio-control {
            position: fixed;
            top: calc(20vh + 15px);
            right: 20px;
            z-index: 300;
            background: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            color: #667eea;
            cursor: pointer;
            box-shadow: 0 3px 15px rgba(0,0,0,0.2);
            transition: all 0.3s;
        }

        .audio-control:active {
            transform: scale(0.9);
        }

        .audio-control.playing {
            animation: pulse-ring 1.5s ease-out infinite;
        }

        @keyframes pulse-ring {
            0% { box-shadow: 0 0 0 0 rgba(102, 126, 234, 0.7); }
            100% { box-shadow: 0 0 0 20px rgba(102, 126, 234, 0); }
        }

        /* Loading Animation */
        .loading {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            transition: opacity 0.5s;
        }

        .loading.hidden {
            opacity: 0;
            pointer-events: none;
        }

        .loader {
            width: 60px;
            height: 60px;
            border: 5px solid rgba(255,255,255,0.3);
            border-top-color: white;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Responsive adjustments */
        @media (max-width: 400px) {
            .card {
                padding: 30px 20px;
            }
            
            .company-name {
                font-size: 26px;
            }
            
            .job-title {
                font-size: 20px;
            }
            
            .stipend-amount {
                font-size: 38px;
            }
        }

        /* No more cards message */
        .no-cards {
            position: absolute;
            width: 100%;
            height: 100%;
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: white;
            text-align: center;
            padding: 20px;
        }

        .no-cards.show {
            display: flex;
        }

        .no-cards-icon {
            font-size: 80px;
            margin-bottom: 20px;
            opacity: 0.8;
        }

        .no-cards-text {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 10px;
        }

        .no-cards-subtext {
            font-size: 16px;
            opacity: 0.8;
        }
    </style>
</head>
<body>
    <!-- Loading Screen -->
    <div class="loading" id="loading">
        <div class="loader"></div>
    </div>

    <!-- Ad Section (20vh) -->
    <!-- 
        Recommended Ad Sizes:
        - Primary: 320x100 (Mobile Leaderboard)
        - Alternative: 320x50 (Mobile Banner)
        - For best quality: Design at 640x200, scale down to 320x100
        - Format: JPG/PNG, Keep under 150KB
    -->
    <div class="ad-section">
        <!-- Toggle between custom and Google ads based on config -->
        <div id="customAdContainer" class="ad-banner placeholder">
            <div>
                📢 Advertisement Space<br>
                <small>Set adType to 'custom' or 'google' in config</small>
            </div>
        </div>
        <div id="googleAdContainer" class="google-ad-container" style="display: none;">
            <!-- Google AdSense code will go here -->
            <div style="text-align: center; padding: 20px;">
                <p style="color: #666; font-size: 14px;">Google Ad Space</p>
                <p style="color: #999; font-size: 12px;">Insert your AdSense code here</p>
            </div>
        </div>
    </div>

    <!-- Swipe Section (80vh) -->
    <div class="swipe-section">
        <div class="card-stack" id="cardStack">
            
            <!-- Card 1 - Company Info -->
            <div class="card card-1" data-card="1">
                <div class="swipe-indicator left">✕</div>
                <div class="swipe-indicator right">✓</div>
                <div class="company-logo">🚀</div>
                <div class="company-name">Deloitte India</div>
                <div class="job-title">Data Analyst Internships</div>
                <div class="location">📍 Location: India Multiple</div>
                <div class="swipe-instruction">
                    <i class="fas fa-hand-point-right"></i> Swipe for stipend details
                </div>
            </div>

            <!-- Card 2 - Stipend -->
            <div class="card card-2" data-card="2">
                <div class="swipe-indicator left">✕</div>
                <div class="swipe-indicator right">✓</div>
                <div class="stipend-icon">💰</div>
                <div class="stipend-amount">Upto ₹45,000/month</div>
                <div class="stipend-details">
                    <strong>Duration:</strong> 3 months<br>
                    <strong>Performance Bonus:</strong> Up to ₹10,000<br>
                    <strong>PPO:</strong> Based on performance<br>
                    <strong>Work Mode:</strong> Hybrid
                </div>
                <div class="swipe-instruction">
                    <i class="fas fa-hand-point-right"></i> Swipe for eligibility
                </div>
            </div>

            <!-- Card 3 - Eligibility -->
            <div class="card card-3" data-card="3">
                <div class="swipe-indicator left">✕</div>
                <div class="swipe-indicator right">✓</div>
                <div class="eligibility-icon">🎓</div>
                <div class="eligibility-title">Eligibility Criteria</div>
                <ul class="eligibility-list">
                    <li>All UG, PG</li>
                    <li>Final year or graduated in 2025</li>
                    <li>Basic coding skills required</li>
                    <li>Knowledge of DSA preferred</li>
                    <li>Good communication skills</li>
                </ul>
                <div class="swipe-instruction">
                    <i class="fas fa-hand-point-right"></i> Swipe for interview questions
                </div>
            </div>

            <!-- Card 4 - Interview Questions -->
            <div class="card card-4" data-card="4">
                <div class="swipe-indicator left">✕</div>
                <div class="swipe-indicator right">✓</div>
                <div class="interview-icon">💬</div>
                <div class="interview-title">Sample Interview Questions</div>
                <div class="question-box">
                    1. Tell us about yourself
                </div>
                <div class="question-box">
                    2. Why do you want this internship?
                </div>
                <div class="question-box">
                    3. What are your strengths?
                </div>
                <div class="question-box">
                    4. Describe a challenging project
                </div>
                <div class="swipe-instruction">
                    <i class="fas fa-hand-point-right"></i> Swipe for deadline & apply link
                </div>
            </div>

            <!-- Card 5 - Apply & Thank You -->
            <div class="card card-5" data-card="5">
                <div class="swipe-indicator left">✕</div>
                <div class="swipe-indicator right">✓</div>
                <div class="apply-icon">🎉</div>
                <div class="last-date">Last Date to Apply</div>
                <div class="date-value">31 Novemeber 2025</div>
                <a href="https://example.com/apply" class="apply-btn" target="_blank">
                    <i class="fas fa-external-link-alt"></i> Apply Now
                </a>
                <div class="thankyou-text">
                    Thank you! See you next time<br>
                    <strong>Jhadu lagaane k liye! 🧹</strong>
                </div>
                <div class="swipe-instruction">
                    <i class="fas fa-hand-pointer"></i> Swipe for next opportunity
                </div>
            </div>

            <!-- No more cards message -->
            <div class="no-cards" id="noCards">
                <div class="no-cards-icon">🎯</div>
                <div class="no-cards-text">All Done!</div>
                <div class="no-cards-subtext">Check back soon for more opportunities</div>
            </div>
        </div>
    </div>

    <!-- Progress Dots -->
    <div class="progress-dots" id="progressDots">
        <div class="dot active"></div>
        <div class="dot"></div>
        <div class="dot"></div>
        <div class="dot"></div>
        <div class="dot"></div>
    </div>

    <!-- Audio Control -->
    <div class="audio-control" id="audioControl">
        <i class="fas fa-volume-up"></i>
    </div>

    <!-- Audio Elements -->
    <audio id="voice1" preload="auto">
        <!-- Add your voice1.mp3 file path here -->
        <source src="assets/voice1.mp3" type="audio/mpeg">
    </audio>
    <audio id="voice2" preload="auto">
        <source src="assets/voice2.mp3" type="audio/mpeg">
    </audio>
    <audio id="voice3" preload="auto">
        <source src="assets/voice3.mp3" type="audio/mpeg">
    </audio>
    <audio id="voice4" preload="auto">
        <source src="assets/voice4.mp3" type="audio/mpeg">
    </audio>
    <audio id="voice5" preload="auto">
        <source src="assets/voice.mp3" type="audio/mpeg">
    </audio>

    <script>
        // Configuration
        const CONFIG = {
            adType: 'custom', // 'custom' or 'google'
            customAdImage: 'assets/customAd1.png', // Recommended: 320x100 or 640x200 (2x)
            customAdLink: 'https://example.com', // Link when ad is clicked
            autoPlayVoice: true,
            swipeThreshold: 100, // pixels to trigger swipe
        };

        // Global state
        let currentCard = 1;
        let audioEnabled = true;
        let isDragging = false;
        let startX = 0;
        let currentX = 0;

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            setupAds();
            preloadSecondAd();
            setupCards();
            setupAudioControl();
            setTimeout(() => {
                document.getElementById('loading').classList.add('hidden');
                playVoice(1);
            }, 1000);
        });

        // Setup Ads
        function setupAds() {
            const customAdContainer = document.getElementById('customAdContainer');
            const googleAdContainer = document.getElementById('googleAdContainer');

            if (CONFIG.adType === 'custom') {
                customAdContainer.style.display = 'block';
                googleAdContainer.style.display = 'none';
                
                if (CONFIG.customAdImage) {
                    customAdContainer.innerHTML = `
                        <a href="${CONFIG.customAdLink}" target="_blank" style="display:block;width:100%;height:100%;margin:0;padding:0;line-height:0;">
                            <img src="${CONFIG.customAdImage}" alt="Advertisement" style="display:block;width:100%;height:100%;object-fit:cover;margin:0;padding:0;border:none;">
                        </a>
                    `;
                }
            } else if (CONFIG.adType === 'google') {
                customAdContainer.style.display = 'none';
                googleAdContainer.style.display = 'block';
                // Google AdSense code should be inserted in the googleAdContainer div
            }
        }

        // Preload second ad for card 4 (smooth transition)
        function preloadSecondAd() {
            // Preload another ad image if using custom ads
            if (CONFIG.adType === 'custom') {
                const img = new Image();
                img.src = 'assets/customAd2.png'; // Second ad for card 4
            }
        }

        // Change ad on card 4
        function changeAd() {
            if (CONFIG.adType === 'custom') {
                const customAdContainer = document.getElementById('customAdContainer');
                customAdContainer.innerHTML = `
                    <a href="https://example.com/ad2" target="_blank" style="display:block;width:100%;height:100%;margin:0;padding:0;line-height:0;">
                        <img src="assets/customAd2.png" alt="Advertisement 2" style="display:block;width:100%;height:100%;object-fit:cover;margin:0;padding:0;border:none;">
                    </a>
                `;
            }
            // For Google ads, they auto-refresh based on Google's policies
        }

        // Setup Cards
        function setupCards() {
            const cards = document.querySelectorAll('.card');
            
            cards.forEach(card => {
                // Touch events
                card.addEventListener('touchstart', handleTouchStart, { passive: false });
                card.addEventListener('touchmove', handleTouchMove, { passive: false });
                card.addEventListener('touchend', handleTouchEnd);

                // Mouse events (for testing on desktop)
                card.addEventListener('mousedown', handleMouseDown);
                card.addEventListener('mousemove', handleMouseMove);
                card.addEventListener('mouseup', handleMouseEnd);
                card.addEventListener('mouseleave', handleMouseEnd);
            });
        }

        // Touch/Mouse Handlers
        function handleTouchStart(e) {
            if (e.target.closest('.apply-btn')) return;
            isDragging = true;
            startX = e.touches[0].clientX;
            this.style.transition = 'none';
        }

        function handleMouseDown(e) {
            if (e.target.closest('.apply-btn')) return;
            isDragging = true;
            startX = e.clientX;
            this.style.transition = 'none';
        }

        function handleTouchMove(e) {
            if (!isDragging) return;
            e.preventDefault();
            currentX = e.touches[0].clientX;
            const diff = currentX - startX;
            const rotation = diff / 10;
            
            this.style.transform = `translateX(${diff}px) rotate(${rotation}deg)`;
            
            // Show indicators
            if (diff < -50) {
                this.classList.add('dragging-left');
                this.classList.remove('dragging-right');
            } else if (diff > 50) {
                this.classList.add('dragging-right');
                this.classList.remove('dragging-left');
            } else {
                this.classList.remove('dragging-left', 'dragging-right');
            }
        }

        function handleMouseMove(e) {
            if (!isDragging) return;
            currentX = e.clientX;
            const diff = currentX - startX;
            const rotation = diff / 10;
            
            this.style.transform = `translateX(${diff}px) rotate(${rotation}deg)`;
            
            if (diff < -50) {
                this.classList.add('dragging-left');
                this.classList.remove('dragging-right');
            } else if (diff > 50) {
                this.classList.add('dragging-right');
                this.classList.remove('dragging-left');
            } else {
                this.classList.remove('dragging-left', 'dragging-right');
            }
        }

        function handleTouchEnd(e) {
            if (!isDragging) return;
            isDragging = false;
            const diff = currentX - startX;
            
            this.classList.remove('dragging-left', 'dragging-right');
            this.style.transition = 'all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55)';
            
            if (Math.abs(diff) > CONFIG.swipeThreshold) {
                // Swipe detected
                if (diff > 0) {
                    swipeRight(this);
                } else {
                    swipeLeft(this);
                }
            } else {
                // Return to position
                this.style.transform = '';
            }
        }

        function handleMouseEnd(e) {
            if (!isDragging) return;
            isDragging = false;
            const diff = currentX - startX;
            
            this.classList.remove('dragging-left', 'dragging-right');
            this.style.transition = 'all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55)';
            
            if (Math.abs(diff) > CONFIG.swipeThreshold) {
                if (diff > 0) {
                    swipeRight(this);
                } else {
                    swipeLeft(this);
                }
            } else {
                this.style.transform = '';
            }
        }

        // Swipe Actions
        function swipeLeft(card) {
            card.classList.add('swiped-left');
            setTimeout(() => {
                card.remove();
                nextCard();
            }, 300);
        }

        function swipeRight(card) {
            card.classList.add('swiped-right');
            setTimeout(() => {
                card.remove();
                nextCard();
            }, 300);
        }

        function nextCard() {
            currentCard++;
            updateProgress();
            
            if (currentCard <= 5) {
                playVoice(currentCard);
                
                // Change ad on card 4
                if (currentCard === 4) {
                    changeAd();
                }
            } else {
                // Show no more cards message
                document.getElementById('noCards').classList.add('show');
            }
        }

        // Audio Control
        function setupAudioControl() {
            const audioControl = document.getElementById('audioControl');
            audioControl.addEventListener('click', () => {
                audioEnabled = !audioEnabled;
                
                if (audioEnabled) {
                    audioControl.innerHTML = '<i class="fas fa-volume-up"></i>';
                    audioControl.classList.add('playing');
                } else {
                    audioControl.innerHTML = '<i class="fas fa-volume-mute"></i>';
                    audioControl.classList.remove('playing');
                    stopAllAudio();
                }
            });
        }

        function playVoice(cardNumber) {
            if (!CONFIG.autoPlayVoice || !audioEnabled) return;
            
            stopAllAudio();
            
            const audio = document.getElementById(`voice${cardNumber}`);
            if (audio) {
                audio.play().catch(err => {
                    console.log('Audio autoplay prevented:', err);
                });
                
                const audioControl = document.getElementById('audioControl');
                audioControl.classList.add('playing');
                
                audio.onended = () => {
                    audioControl.classList.remove('playing');
                };
            }
        }

        function stopAllAudio() {
            for (let i = 1; i <= 5; i++) {
                const audio = document.getElementById(`voice${i}`);
                if (audio) {
                    audio.pause();
                    audio.currentTime = 0;
                }
            }
        }

        // Progress Indicator
        function updateProgress() {
            const dots = document.querySelectorAll('.dot');
            dots.forEach((dot, index) => {
                if (index < currentCard) {
                    dot.classList.add('active');
                } else {
                    dot.classList.remove('active');
                }
            });
        }

        // Prevent default touch behaviors
        document.addEventListener('touchmove', (e) => {
            if (e.target.closest('.card')) {
                e.preventDefault();
            }
        }, { passive: false });
    </script>
</body>
</html>
